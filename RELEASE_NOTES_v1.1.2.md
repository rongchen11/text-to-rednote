# 🚀 文字转小红书 v1.1.2 发布说明

**发布日期**: 2025-09-10  
**版本状态**: 稳定版  

## 📋 版本概述

v1.1.2 版本专注于移除硬编码配置，让用户的提示词模板获得完全控制权，支持更灵活的图片生成。

## 🔧 主要改进

### 1. 移除图片尺寸限制
- **问题**：系统强制所有图片为1024x1024正方形
- **解决**：删除IMAGE_SIZE常量，不再传递size参数
- **效果**：支持生成各种比例的图片（竖版、横版、正方形等）

### 2. 移除自动提示词优化
- **问题**：系统自动添加"高清画质"、"专业设计"等增强词
- **解决**：删除optimizePromptForImage方法
- **效果**：提示词完全由模板控制，不被系统修改

### 3. 清理未使用配置
- **删除**：IMAGE_QUALITY常量（从未使用）
- **优化**：简化代码结构，提高可维护性

## 💡 使用说明

### 在模板中控制图片属性
现在您可以在提示词模板中自由指定：
- 图片尺寸：如"生成1080x1920竖版图片"
- 图片比例：如"16:9横版"、"9:16竖版"、"1:1正方形"
- 图片质量：如"4K超清"、"简约线条"
- 图片风格：完全自定义，不受系统干扰

### 示例模板
```
封面提示词：生成一张9:16竖版小红书封面，主题是{content}，简约风格，留白设计
内容提示词：生成一张3:4竖版配图，内容是{content}，温馨风格，色彩柔和
```

## 🔍 技术细节

### 文件修改
1. `src/utils/constants.ts`
   - 删除 IMAGE_SIZE 常量
   - 删除 IMAGE_QUALITY 常量

2. `src/services/apiClient.ts`
   - 删除 optimizePromptForImage 方法
   - generateImage 中直接使用原始prompt
   - 不再传递 size 参数给API

### API调用变化
```javascript
// 之前
{
  prompt: this.optimizePromptForImage(prompt), // 被修改
  model: IMAGE_MODEL,
  size: IMAGE_SIZE,  // 强制1024x1024
  n: 1,
  response_format: 'url'
}

// 现在
{
  prompt: prompt,  // 原始提示词
  model: IMAGE_MODEL,
  n: 1,
  response_format: 'url'
  // 无size参数，由API根据提示词判断
}
```

## ✅ 兼容性

- **向后兼容**：现有模板继续正常工作
- **API兼容**：豆包API会根据提示词自动判断图片属性
- **功能完整**：所有其他功能不受影响

## 📦 升级指南

从 v1.1.1 升级：
```bash
git pull
npm install
npm run dev
```

## 🎯 下个版本计划
- 支持批量模板应用
- 增加图片生成历史记录
- 优化生成速度

## 💬 反馈渠道
如有问题或建议，请通过项目Issues反馈。

---

**感谢使用文字转小红书工具！**  
让创作更自由，让表达更精准。